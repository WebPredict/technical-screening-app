<% provide(:title, 'Edit Question') %>
<div class="page-header">
  <h3>Edit Question</h3>
<div class="row">
  <div class="col-md-6 col-md-offset-3">
        <%= link_to "Dashboard", root_path, class: "btn btn-primary" %>
        <%= link_to "Search Questions", questions_path, class: "btn btn-primary" %>
        <%= link_to "Search Tests", tests_path, class: "btn btn-primary" %>
  </div>
</div>
</div>

<div class="row">
  <div class="col-md-12">
    <%= form_for(@question) do |f| %>
      <%= render 'shared/error_messages', object: f.object %>

  		<%= f.label :question_type %>
  		<div class="field">
    		<%= f.collection_select(:question_type_id, QuestionType.all, :id, :name) %>
  		</div>

      <%= f.label :content %>
      <%= f.text_area :content, class: 'form-control' %>

      <div id="free-form">
      <%= f.label :answer %>
      <%= f.text_area :answer, rows: "10", class: 'form-control' %>
      </div>
      <div id="short-phrase" style="display:none">
      <%= f.label :short_answer, "Short Phrase Answer" %>
      <%= f.text_field :short_answer, class: 'form-control' %>
      </div>
      <div id="multiple-choice" style="display:none">
        <label class="radio-inline">
        <%= f.radio_button :multiple_choice_answer, "A)", checked: false %><strong> Answer Choice A</strong>
        </label>
        <%= f.text_field :answer2, class: 'form-control' %>
        <label class="radio-inline">
        <%= f.radio_button :multiple_choice_answer, "B)", checked: false %><strong> Answer Choice B</strong>
        </label>
        <%= f.text_field :answer3, class: 'form-control' %>
        <label class="radio-inline">
        <%= f.radio_button :multiple_choice_answer, "C)", checked: false %><strong> Answer Choice C</strong>
        </label>
        <%= f.text_field :answer4, class: 'form-control' %>
        <label class="radio-inline">
        <%= f.radio_button :multiple_choice_answer, "D)", checked: false %><strong> Answer Choice D</strong>
        </label>
        <%= f.text_field :answer5, class: 'form-control' %>
      </div>
    
			<%= f.label :difficulty %>
    	<div class="field">
      <%= f.collection_select(:difficulty_id, Difficulty.all, :id, :level) %>
      </div>

      <%= f.label :category %>
      <div class="field">
      <%= f.collection_select(:category_id, Category.all, :id, :name) %>
      </div>

      <%= f.submit "Update Question", class: "btn btn-primary" %>
      <div class="button-spacer"></div>
      <%= f.submit "Cancel", class: "btn btn-primary" %>
    <% end %>
  </div>
</div>
</br>

<script>
  function categoryChanged () {
    adjustQuestionForm(this.value);
  }    

  $(document).ready(function(){
    $('#question_question_type_id').bind('change', categoryChanged);
    $('#question_question_type_id').trigger('change');
  });

</script>