<div class="page-header">
  <h3>Search Questions</h3>
</div>

<div class="row">
<%= form_tag questions_path, :class => "nicesearch", :method => 'get' do %>
  <label>Category</label>
  <div class="field">
        <%= select_tag(:category_id, options_from_collection_for_select(Category.all, "id", "name"), prompt: "<Filter By Technology Category>", include_blank: true, :selected => params[:category_id]) %>
  </div>

  <div class="field">
    <div class="input-group">
      <%= text_field_tag :search, params[:search], :class => "form-control" %>
        <div class="input-group-btn">
            <button class="btn btn-default" type="submit"><i class="glyphicon glyphicon-search"></i></button>
        </div>
    </div>
    </div>
<% end %>
</div>
        
<div class="row">
  <div class="col-md-12">
    <% if @searched %>
    <% if @questions.any? %>
      <h4>Question Search Results</h4>
    <% else %>
      <h4>No results found for that search term.</h4>
    <% end %>
    <% else %>
    <h4>Recent Questions</h4>
    <% end %>
      <table class="table table-bordered">
        <tr><th><%= sortable "content", "Question" %></th><th><%= sortable "answer" %></th>
        <th><%= sortable "difficulty" %></th><th><%= sortable "question_type" %></th><th><%= sortable "category" %></th><th>Actions</th></tr>
        <%= render @questions %>
      </table>
      <%= will_paginate @questions %>
  </div>
</div>

