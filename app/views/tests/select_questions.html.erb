<% provide(:title, 'Select/Update Test Questions') %>

<% if @test.questions.any? %>
  <h3>Existing Questions</h3>
  <%= form_tag update_questions_path, :class => "nicesearch" %>
    <table class="table table-bordered">
      <tr><th><%= sortable "content", "Question" %></th><th><%= sortable "answer" %></th><th><%= sortable "difficulty" %></th><th><%= sortable "category" %></th><th>Actions</th></tr>
      <%= render @test.questions %>
    </table>
    <%= will_paginate @test.questions %>
    <input class="btn btn-lg btn-primary" name="commit" type="submit" value="Submit" />
  <% end %>
<% end %>

<h3>Select Questions</h3>
<div class="row">
<%= form_tag questions_path, :class => "nicesearch", :method => 'get' do %>
    <div class="input-group">
      <%= text_field_tag :search, params[:search], :class => "form-control" %>
        <div class="input-group-btn">
            <button class="btn btn-default" type="submit"><i class="glyphicon glyphicon-search"></i></button>
        </div>
    </div>
<% end %>
</div>
<% if @questions.any? %>
  <%= form_tag submit_questions_path, :class => "nicesearch" %>
    <table class="table table-bordered">
      <tr><th><%= sortable "content", "Question" %></th><th><%= sortable "answer" %></th><th><%= sortable "difficulty" %></th><th><%= sortable "category" %></th><th>Actions</th></tr>
      <%= render @questions %>
    </table>
    <%= will_paginate @questions %>
    <input class="btn btn-lg btn-primary" name="commit" type="submit" value="Submit" />
  <% end %>
<% end %>

